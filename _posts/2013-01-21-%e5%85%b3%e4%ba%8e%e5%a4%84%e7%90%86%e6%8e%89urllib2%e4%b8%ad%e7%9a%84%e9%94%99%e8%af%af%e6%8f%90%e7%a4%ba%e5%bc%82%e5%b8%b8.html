---
layout: post
title: 关于处理掉urllib2中的错误提示异常
categories:
- 未分类
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _sinaweibo_sync: 'true'
  _sinaweibo_sync_id: '3536991033685145'
  views: '12'
author:
  login: snorlax
  email: zhangxzheng@hotmail.com
  display_name: snorlax
  first_name: ''
  last_name: ''
---
<p>在很多情况下如果server帮着redirect一下什么的、如果还使用urllib2的urlopen非常容易抛出异常、而且既然人家给你跳转了你照着搬不就完了么混蛋……<br />
然后下面讲下怎么除掉掉这些异常其实很简单<br />
再构建的时候对urllib2.HTTPCookieProcessor进行复写、把里面的异常的地方给复写掉<br />
代码如下</p>
<pre lang="python">
class NoExceptionCookieProcesser(urllib2.HTTPCookieProcessor):
    def http_error_500(self, req, fp, code, msg, hdrs):
        return fp
</pre>
<p>以此类推想弄掉哪儿些复写掉即可<br />
然后构造的时候</p>
<pre lang="python">
cookie = cookielib.CookieJar()
opener = urllib2.build_opener(NoExceptionCookieProcesser(cookie))
</pre>
<p>行了、这样讨厌的异常就搞定了</p>
